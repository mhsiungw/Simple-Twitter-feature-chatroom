(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c590d04"],{"1a80":function(t,e,s){},"3bb6":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar-section"},[a("div",{staticClass:"action-wrapper"},[a("img",{staticClass:"logo",attrs:{src:s("ede7"),alt:"logo"}}),a("ul",{staticClass:"sidebar-list"},[a("li",{staticClass:"list-item"},[a("router-link",{class:{focus:"/admin/tweets"===this.$route.path},attrs:{to:"/admin/tweets"}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"home"}}),a("span",[t._v("推文清單")])],1)],1),a("li",{staticClass:"list-item"},[a("router-link",{class:{focus:"/admin/users"===this.$route.path},attrs:{to:"/admin/users"}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"user"}}),a("span",[t._v("使用者清單")])],1)],1)])]),a("button",{staticClass:"logout-button",on:{click:t.logout}},[a("img",{staticClass:"logout",attrs:{src:s("0ade"),alt:"logout"}}),a("span",[t._v("登出")])])])},n=[],i=s("5530"),c=s("2f62"),r={computed:Object(i["a"])({},Object(c["b"])(["currentUser"])),methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/login")}}},o=r,l=(s("6d29"),s("2877")),u=Object(l["a"])(o,a,n,!1,null,"4a489394",null);e["a"]=u.exports},"3c5d":function(t,e,s){},6177:function(t,e,s){},"6d29":function(t,e,s){"use strict";s("6177")},"6dff":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tweet-page-container"},[s("AdminSidebar",{staticClass:"sidebar-section"}),s("AdminTweetSection",{staticClass:"tweet-section",attrs:{tweets:t.tweets},on:{"after-delete-click":t.adminDeleteTweet}})],1)},n=[],i=s("1da1"),c=(s("4de4"),s("d3b7"),s("96cf"),s("3bb6")),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tweet-section"},[s("div",{staticClass:"title"},[t._v("推文清單")]),s("div",{staticClass:"tweet-list"},t._l(t.tweets,(function(e){return s("div",{key:e.id,staticClass:"list-item"},[s("img",{staticClass:"avatar",attrs:{src:e.User.avatar,alt:"avatar"}}),s("div",{staticClass:"post"},[s("div",{staticClass:"post-title"},[s("p",{staticClass:"name"},[t._v(t._s(e.User.name))]),s("p",{staticClass:"account-name"},[t._v("@"+t._s(e.User.account))]),s("span",{staticClass:"dot"},[t._v("．")]),s("p",{staticClass:"created-time"},[t._v(t._s(t._f("fromNow")(e.createdAt)))])]),s("div",{staticClass:"post-desc"},[t._v(t._s(e.description))])]),s("button",{staticClass:"delelte-button",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.handleDeleteClick(e.id)}}},[t._v(" X ")])])})),0)])},o=[],l=s("5530"),u=s("2f62"),d=s("2708"),f={computed:Object(l["a"])({},Object(u["b"])(["currentUser"])),props:{tweets:{type:Array,required:!0}},mixins:[d["b"]],methods:{handleDeleteClick:function(t){this.$emit("after-delete-click",t)}}},m=f,p=(s("92d4"),s("2877")),w=Object(p["a"])(m,r,o,!1,null,"14d54f13",null),v=w.exports,b=s("be6c"),h=s("2fa3"),C={name:"AdminTweetPage",components:{AdminSidebar:c["a"],AdminTweetSection:v},data:function(){return{tweets:[]}},created:function(){this.fetchAllTweets()},methods:{fetchAllTweets:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b["a"].getAllTweets();case 3:if(s=e.sent,"OK"===s.statusText){e.next=6;break}throw new Error(s.statusText);case 6:t.tweets=s.data,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),h["a"].fire({icon:"error",title:"暫時無法取得資料，請稍後再試。 \n 錯誤原因：".concat(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},adminDeleteTweet:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,b["a"].deleteTweet(t);case 3:if(a=s.sent,"OK"===a.statusText){s.next=6;break}throw new Error(a.statusText);case 6:e.tweets=e.tweets.filter((function(e){return t!==e.id})),h["a"].fire({icon:"success",title:"刪除成功"}),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),h["a"].fire({icon:"error",title:"刪除失敗，請稍後再試。 \n 錯誤原因：".concat(s.t0)});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})))()}}},_=C,g=(s("e98c"),Object(p["a"])(_,a,n,!1,null,"eee90b20",null));e["default"]=g.exports},"92d4":function(t,e,s){"use strict";s("3c5d")},e98c:function(t,e,s){"use strict";s("1a80")}}]);
//# sourceMappingURL=chunk-4c590d04.b270e247.js.map