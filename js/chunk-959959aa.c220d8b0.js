(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-959959aa"],{"11ba":function(a,t,e){},"73cf":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"register-section"},[a._m(0),e("form",{staticClass:"register-form",attrs:{novalidate:"true"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),a.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"input-part"},[e("label",{attrs:{for:"account-name"}},[a._v("帳號")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.account,expression:"account"}],attrs:{type:"text",id:"account-name",maxlength:"20"},domProps:{value:a.account},on:{input:function(t){t.target.composing||(a.account=t.target.value)}}}),e("p",{staticClass:"word-count",class:{"word-limit":20==a.account.length}},[a._v(" "+a._s(a.account.length)+"/20 ")])]),e("div",{staticClass:"input-part"},[e("label",{attrs:{for:"name"}},[a._v("名稱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.name,expression:"name"}],attrs:{type:"text",id:"name",maxlength:"50"},domProps:{value:a.name},on:{input:function(t){t.target.composing||(a.name=t.target.value)}}}),e("p",{staticClass:"word-count",class:{"word-limit":50==a.name.length}},[a._v(" "+a._s(a.name.length)+"/50 ")])]),e("div",{staticClass:"input-part"},[e("label",{attrs:{for:"email"}},[a._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.email,expression:"email"}],class:{"invalid-email":a.isEmailInvalid},attrs:{type:"email",id:"email"},domProps:{value:a.email},on:{input:function(t){t.target.composing||(a.email=t.target.value)}}}),a.isEmailInvalid?e("p",{staticClass:"type-check"},[a._v("請輸入正確的 email 格式")]):a._e()]),e("div",{staticClass:"input-part"},[e("label",{attrs:{for:"password"}},[a._v("密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.password,expression:"password"}],attrs:{type:"password",id:"password",maxlength:"20"},domProps:{value:a.password},on:{input:function(t){t.target.composing||(a.password=t.target.value)}}}),e("p",{staticClass:"word-count",class:{"word-limit":20==a.password.length}},[a._v(" "+a._s(a.password.length)+"/20 ")])]),e("div",{staticClass:"input-part"},[e("label",{attrs:{for:"password-check"}},[a._v("密碼確認")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.checkPassword,expression:"checkPassword"}],attrs:{type:"password",id:"password-check",maxlength:"20"},domProps:{value:a.checkPassword},on:{input:function(t){t.target.composing||(a.checkPassword=t.target.value)}}}),e("p",{staticClass:"word-count",class:{"word-limit":20==a.checkPassword.length}},[a._v(" "+a._s(a.checkPassword.length)+"/20 ")])]),e("button",{staticClass:"submit-button",attrs:{type:"submit"}},[a._v("註冊")]),e("button",{staticClass:"cancel-button",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),a.$router.push("/login")}}},[a._v(" 取消 ")])])])},n=[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"title"},[s("img",{attrs:{src:e("ede7"),alt:""}}),s("h4",[a._v("建立你的帳號")])])}],r=e("1da1"),i=(e("96cf"),e("ac1f"),e("00b4"),e("b0c0"),e("7696")),o=e("2fa3"),c={data:function(){return{account:"",name:"",email:"",password:"",checkPassword:"",isEmailInvalid:!1}},watch:{email:function(){this.validEmail(this.email)?this.isEmailInvalid=!1:this.isEmailInvalid=!0}},methods:{validEmail:function(a){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(a)},handleSubmit:function(){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,""!==a.account&&""!==a.name&&""!==a.email&&""!==a.password&&""!==a.checkPassword){t.next=3;break}return t.abrupt("return",o["a"].fire({icon:"warning",title:"請填寫所有欄目"}));case 3:if(a.password===a.checkPassword){t.next=5;break}return t.abrupt("return",o["a"].fire({icon:"warning",title:"密碼不一致"}));case 5:if(a.validEmail(a.email)){t.next=7;break}return t.abrupt("return",o["a"].fire({icon:"warning",title:"請填寫正確的 email 格式"}));case 7:return t.next=9,i["a"].register({account:a.account,name:a.name,email:a.email,password:a.password,checkPassword:a.checkPassword});case 9:if(e=t.sent,s=e.data,"error"!==s.status){t.next=13;break}throw new Error(s.message);case 13:"success"===s.status&&(o["a"].fire({icon:"success",title:s.message}),a.$router.push({name:"Login"})),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),o["a"].fire({icon:"error",title:"無法註冊，請稍後再試 \n 錯誤原因：".concat(t.t0)});case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()}}},l=c,u=(e("87f4"),e("2877")),m=Object(u["a"])(l,s,n,!1,null,"04a13ad6",null);t["default"]=m.exports},7696:function(a,t,e){"use strict";e("b0c0");var s=e("2fa3");t["a"]={logIn:function(a){var t=a.account,e=a.password;return s["b"].post("/signin",{account:t,password:e})},register:function(a){var t=a.account,e=a.name,n=a.password,r=a.email,i=a.checkPassword;return s["b"].post("/users",{account:t,name:e,password:n,email:r,checkPassword:i})}}},"87f4":function(a,t,e){"use strict";e("11ba")}}]);
//# sourceMappingURL=chunk-959959aa.c220d8b0.js.map